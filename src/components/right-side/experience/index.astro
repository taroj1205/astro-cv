---
import Card from "./card.astro"

const experience = [
  {
    role: "Teacher Aid",
    employer: "Westlake Boys High School",
    description:
      "I have helped exchange students from Japan with their English, getting used to the school life, making friends and more.",
    date: "2024/01 - 2024/02",
  },
  {
    role: "Teacher",
    employer: "Classmall Kids - YAGO",
    description:
      "I have worked as a programming teacher at classmall kids, which lets primary school students learn programming through Minecraft.",
    date: "2024/07 - Present",
  },
  {
    role: "Volunteer",
    employer: "Japan Kauri Education Trust",
    description:
      "Volunteered at the Japan Kauri Education Trust, helping with the organization of the monthly events and activities.",
    date: "2020 - 2021",
  },
  {
    role: "Open Source Contribution",
    employer: "Yamada UI",
    description:
      "I have been the Maintainer of the Yamada UI project, which is a UI Component Library for React.",
    date: "2024 - Present",
  },
]

const parseDate = (dateStr: string) => {
  const [start, end] = dateStr.split(" - ")
  const parse = (str: string | number | Date) =>
    str === "Present" ? new Date() : new Date(str)
  return [parse(start), end ? parse(end) : parse(start)]
}

experience.sort((a, b) => {
  const [aStart, aEnd] = parseDate(a.date)
  const [bStart, bEnd] = parseDate(b.date)
  return bEnd.getTime() - aEnd.getTime() || bStart.getTime() - aStart.getTime()
})
---

<ul class="flex flex-col gap-4">
  {experience.map((exp) => <Card {...exp} />)}
</ul>
